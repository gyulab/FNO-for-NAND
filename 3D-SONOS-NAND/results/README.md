# Results Directory

This directory contains visualization outputs and optimization results generated by the inference and optimization scripts.

## Contents

### Visualizations

#### `sonos_time_evolution.gif`
**Size**: ~1.5 MB  
**Generated by**: `inference_time_sweep.py`

Animated GIF showing the temporal evolution of defect charge density during a programming operation.

**Configuration**:
- **Fixed Parameters**: Spacing=25nm, TL=25Å, PGM=15V
- **Time Range**: 0 to 10,000 seconds (50 logarithmically-spaced frames)
- **Colormap**: Seismic (blue=negative, red=positive charge)
- **Frame Duration**: 100ms per frame

**Interpretation**:
- Shows how charge accumulates in the trapping layer over time
- Peak charge density typically occurs near the gate region (X=0)
- Charge spreads laterally as time progresses
- Useful for understanding programming dynamics

---

#### `spacing_sweep_10ks.gif`
**Size**: ~1.1 MB  
**Generated by**: `inference_spacing_sweep.py`

Animated GIF showing how defect charge density varies with cell spacing at a fixed time point.

**Configuration**:
- **Fixed Parameters**: TL=25Å, PGM=15V, Time=10,000s
- **Spacing Range**: 20nm to 30nm (20 frames)
- **Colormap**: Seismic (symmetric about zero)
- **Frame Duration**: 200ms per frame

**Key Features**:
- **Dynamic X-axis**: Physical domain expands with spacing (±4× spacing)
- **Fixed color scale**: Allows direct comparison across frames
- **Axis labels**: Show actual physical dimensions in nanometers

**Interpretation**:
- Larger spacing → wider charge distribution
- Peak charge density may vary with spacing
- Useful for optimizing cell pitch in device design

---

#### `thickness_sweep_10ks.gif`
**Size**: ~1.1 MB  
**Generated by**: `inference_tl_thickness_sweep.py`

Animated GIF showing how defect charge density varies with tunnel layer thickness at a fixed time point.

**Configuration**:
- **Fixed Parameters**: Spacing=20nm, PGM=15V, Time=10,000s
- **TL Range**: 20Å to 40Å (20 frames)
- **Colormap**: Seismic (symmetric about zero)
- **Frame Duration**: 200ms per frame

**Key Features**:
- **Dynamic R-axis**: Radial domain shifts with tunnel layer thickness
- **Fixed color scale**: Enables quantitative comparison
- **Sliding axis**: Y-axis ticks move as TL changes

**Interpretation**:
- Thicker tunnel layer → charge distribution shifts radially outward
- Affects charge injection efficiency
- Critical for retention and endurance optimization

---

### Optimization Results

#### `optimal_lcm_solution.png`
**Size**: ~85 KB  
**Generated by**: `optimize_sonos_lcm.py`

Contour plot showing the defect charge density distribution for the optimal device configuration found by the optimization algorithm.

**Optimization Objective**:
```
Cost = α × |Q_total| + β × σ(DCD)
```
Where:
- `Q_total`: Total integrated charge (minimize absolute value)
- `σ(DCD)`: Standard deviation of charge density (minimize for uniformity)
- `α`, `β`: User-defined weights (default: 1.0 each)

**Typical Optimal Parameters**:
- Spacing: ~25-28 nm
- Tunnel Layer: ~25-30 Å
- Program Voltage: ~12-15 V

**Plot Features**:
- **Title**: Shows optimal parameter values and objective function value
- **Colorbar**: Defect charge density in C·cm⁻³
- **Axes**: Physical coordinates (X, R) in nanometers
- **Contours**: 60 levels for smooth visualization

**Interpretation**:
- Optimal solution balances total charge and uniformity
- Useful for design space exploration
- Can be regenerated with different α/β weights for multi-objective trade-offs

---

## Generating Results

### Time Evolution GIF
```bash
cd ../code
python inference_time_sweep.py
```
Output: `sonos_time_evolution.gif` (moved to `../results/`)

### Spacing Sweep GIF
```bash
cd ../code
python inference_spacing_sweep.py --output_gif ../results/spacing_sweep_10ks.gif
```

### Thickness Sweep GIF
```bash
cd ../code
python inference_tl_thickness_sweep.py --output_gif ../results/thickness_sweep_10ks.gif
```

### Optimization Result
```bash
cd ../code
python optimize_sonos_lcm.py --alpha 1.0 --beta 1.0
```
Output: `optimal_lcm_solution.png` (saved to `../results/`)

---

## Customization

### Changing Visualization Parameters

**Color Scale**:
```python
# In inference scripts, modify:
vmin, vmax = -limit, limit  # Symmetric scale
levels = np.linspace(vmin, vmax, 100)  # Number of contour levels
```

**Colormap**:
```python
# Change colormap:
plt.contourf(..., cmap='seismic')  # Options: 'viridis', 'plasma', 'RdBu', etc.
```

**Frame Duration**:
```python
# In GIF generation:
imageio.mimsave('output.gif', frames, duration=0.2)  # seconds per frame
```

**Resolution**:
```python
# In plotting:
plt.savefig('output.png', dpi=150)  # Increase for higher quality
```

### Custom Parameter Sweeps

Modify the sweep scripts to explore different parameter ranges:

```python
# Example: Voltage sweep
pgm_values = np.linspace(10.0, 20.0, 20)  # 10V to 20V
for pgm in pgm_values:
    # Run inference with varying PGM
```

---

## File Management

**Storage Recommendations**:
- GIF files: ~1-2 MB each (suitable for presentations)
- PNG files: ~50-100 KB (suitable for publications)
- Keep results organized by date or experiment ID

**Archiving**:
```bash
# Create timestamped archive
tar -czf results_$(date +%Y%m%d).tar.gz *.gif *.png
```

---

## Interpretation Guide

### Charge Density Patterns

**Symmetric Distribution**:
- Indicates uniform programming
- Desirable for consistent device behavior

**Asymmetric Distribution**:
- May indicate edge effects or non-uniform fields
- Check boundary conditions in simulation

**Peak Location**:
- Typically at X=0 (gate center)
- Radial position depends on tunnel layer thickness

### Color Scale

**Positive Values (Red)**:
- Trapped electrons (negative charge carriers)
- Dominant in SONOS devices during programming

**Negative Values (Blue)**:
- Hole trapping or depletion regions
- Less common but possible near interfaces

**Zero (White)**:
- Neutral regions
- Typically far from the gate

---

## Publication Quality

For publication-ready figures:

1. **Increase DPI**:
   ```python
   plt.savefig('figure.png', dpi=300, bbox_inches='tight')
   ```

2. **Use vector format**:
   ```python
   plt.savefig('figure.pdf')  # Scalable vector graphics
   ```

3. **Adjust font sizes**:
   ```python
   plt.rcParams.update({'font.size': 14})
   ```

4. **Add annotations**:
   ```python
   plt.text(x, y, 'Label', fontsize=12, color='black')
   ```

---

## Troubleshooting

**Issue**: GIF files too large
- **Solution**: Reduce frame count or resolution
- **Solution**: Use compression: `gifsicle -O3 input.gif -o output.gif`

**Issue**: Plots look pixelated
- **Solution**: Increase DPI in `savefig()`
- **Solution**: Use vector format (PDF, SVG)

**Issue**: Color scale not informative
- **Solution**: Adjust `vmin`/`vmax` to focus on relevant range
- **Solution**: Try different colormaps for better contrast

---

## Reproducibility

To reproduce results:
1. Ensure checkpoints are from the same training run
2. Use identical script parameters
3. Record random seeds if applicable
4. Document software versions (PyTorch, NumPy, etc.)
